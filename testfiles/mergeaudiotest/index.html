<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>MERGE AUDIO TEST</title>
        <script>
            var interval;
            var test = new Audio();
            var i = 0;
            var loaded = false; 

            function loadAudio() {
                    test.src = "test.mp3"
                    test.loop = true;
                    test.volume = 0;
                    test.play();
                    setTimeout(playAudio, 2000);
            }
            function playAudio() {
                i = 0;
                test.currentTime = 0;
                test.volume = 1;
                addImage();
                interval = setInterval(addImage, 1500);
            }

            function addImage() {
                if (i == 3) {
                    clearInterval(interval);
                    test.volume = 0;
                    setTimeout(playAudio, 5000);
                } else {
                    var imgName = "";
                    switch (i) {
                        case 0:
                            imgName = "a.png";
                            break;
                        case 1:
                            imgName = "aSharp.png";
                            break;
                        case 2:
                            imgName = "b.png";
                            break;
                    }

                    var newNote = document.createElement("IMG");
                    newNote.src = imgName;

                    document.getElementById("images").appendChild(newNote);

                    i++;
                }

                
            }


        </script>
    </head>
    <body>
        <button style="width: 100px; height: 100px" onclick="loadAudio()">START</button>
        <span id="TEST"></span>
        <div id="images"></div>
    </body>
</html>
