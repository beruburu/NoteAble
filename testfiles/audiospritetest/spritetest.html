<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>AUDIO SPRITE TEST</title>
        <script>
            var sprite;
            var interval;
            function loadAudio() {
                sprite = new Audio();
                sprite.src = "spriteHQ.mp3";
                sprite.volume = 0;
                sprite.play();
                sprite.addEventListener("ended", showEnded);
            }

            function showEnded() {
                document.getElementById("loadButton").innerHTML = "LOADED";
            }
            function playAudio() {
                document.getElementById("TEST").innerHTML = "";
                sprite.volume = 1;
                sprite.currentTime = 2.5;
                sprite.play();
                setTimeout(playFirstNote, 1200);
                interval = setInterval(checkTime, 200);
            }

            function checkTime() {
                document.getElementById("TIME").innerHTML = sprite.currentTime;
            }

            function playFirstNote() {
                sprite.currentTime = 0;
                setTimeout(pauseAudio, 1400);
            }

            function pauseAudio() {
                sprite.pause();
                document.getElementById("TEST").innerHTML = "PAUSED";
            }
        </script>
    </head>
    <body>
        <button onclick="loadAudio()" id="loadButton">LOAD AUDIO</button>
        <button onclick="playAudio()">PLAY AUDIO</button>
        <span id="TEST"></span>
        <br>
        <span id="TIME"></span>

    </body>
</html>
